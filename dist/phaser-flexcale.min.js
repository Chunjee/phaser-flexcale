Phaser.Plugin.Flexcale=function(t,e){Phaser.Plugin.call(this,t,e),this.options={resolution:1,centering:!0,minWidth:480,minHeight:720,maxWidth:null,maxHeight:null},this.parent=document.getElementById(this.game.parent),this.parent.style.width="100%",this.parent.style.height="100%",this.scale=1,this.onResize=new Phaser.Signal,this.game.scale.scaleMode=Phaser.ScaleManager.HEADLESS;var s=this;window.addEventListener("resize",function(){s.resize()}),this.game.input.scale.setTo=function(){Phaser.Point.prototype.setTo.apply(this,arguments),this.x*=s.options.resolution,this.y*=s.options.resolution}},Phaser.Plugin.Flexcale.prototype=Object.create(Phaser.Plugin.prototype),Phaser.Plugin.Flexcale.prototype.constructor=Phaser.Plugin.SamplePlugin,Phaser.Plugin.Flexcale.prototype.setOptions=function(t,e){for(var s in t)this.options[s]=t[s];!0!==e&&this.resize()},Phaser.Plugin.Flexcale.prototype.resize=function(){var t=this.options,e=this.parent.offsetWidth,s=this.parent.offsetHeight,i=e/t.minWidth,n=s/t.minHeight;this.scale=i<n?i:n,"number"==typeof t.maxWidth&&(e=Math.min(e,t.maxWidth*this.scale),e=Math.min(e,t.maxWidth)),"number"==typeof t.maxHeight&&(s=Math.min(s,t.maxHeight*this.scale),s=Math.min(s,t.maxHeight)),e*=t.resolution,s*=t.resolution,this.scale*=t.resolution,this.game.scale.setGameSize(e,s),this.cssTransform(this.game.canvas,"scale("+1/t.resolution+")","center center"),t.centering&&(this.parent.style.marginLeft=(this.parent.offsetWidth-e)/2+"px",this.parent.style.marginTop=(this.parent.offsetHeight-s)/2+"px"),this.onResize.dispatch(this.scale)},Phaser.Plugin.Flexcale.prototype.cssTransform=function(t,e,s){t&&t.style&&(t.style.webkitTransform=e,t.style.MozTransform=e,t.style.msTransform=e,t.style.OTransform=e,t.style.transform=e,t.style.webkitTransformOrigin=s,t.style.MozTransformOrigin=s,t.style.msTransformOrigin=s,t.style.transformOrigin=s)};